<html>
<head>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
</head>
<body>
    <script type="text/javascript">
        AFRAME.registerComponent('drag-rotate-component', {
            schema: { speed: { default: 1 } },
            init: function () {
                this.ifMouseDown = false;
                this.x_cord = 0;
                this.y_cord = 0;
                document.addEventListener('mousedown', this.OnDocumentMouseDown.bind(this));
                document.addEventListener('mouseup', this.OnDocumentMouseUp.bind(this));
                document.addEventListener('mousemove', this.OnDocumentMouseMove.bind(this));
            },
            OnDocumentMouseDown: function (event) {
                this.ifMouseDown = true;
                this.x_cord = event.clientX;
                this.y_cord = event.clientY;
            },
            OnDocumentMouseUp: function () {
                this.ifMouseDown = false;
            },
            OnDocumentMouseMove: function (event) {
                if (this.ifMouseDown) {
                    var temp_x = event.clientX - this.x_cord;
                    var temp_y = event.clientY - this.y_cord;
                    if (Math.abs(temp_y) < Math.abs(temp_x)) {
                        this.el.object3D.rotateY(temp_x * this.data.speed / 1000);
                    }
                    else {
                        this.el.object3D.rotateX(temp_y * this.data.speed / 1000);
                    }
                    this.x_cord = event.clientX;
                    this.y_cord = event.clientY;
                }
            }
        });
    </script>
    <a-scene>
        <a-assets>
            <a-asset-item id="kirby" src="3D/models/lao/kirby.glb"></a-asset-item>
        </a-assets>
        <a-camera drag-rotate-component look-controls="enabled:false"></a-camera>
        <!--<a-collada-model drag-rotate-component src="#kirby" position="0 1 -3" rotation="0 270 0"></a-model>-->
        <a-entity drag-rotate-component gltf-model="#kirby" position="0 1 -2" rotation="0 270 0"></a-entity>
</body>
</html>